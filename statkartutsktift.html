<!DOCTYPE HTML>
<html>
    <head>
        <script src="jquery-2.1.1.js"></script>
        <script src="statkart.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
		<div style="position:absolute;top:0;left:0;overflow: hidden;width:210mm;height:297mm;">
        <div id="container" style="position:absolute;top:0;left:0;width:100000000mm;height:100000000mm">
        </div>
				<div id="Copyright">Â© Kartverket</div>
			<div id="UTM"></div>
			</div>


            
	<script>
		var names = 
		$().ready(function(){
			var xLUTM = 566507;
			var dxUTM = 677;
			var yHUTM = 7032586;
			var dyUTM = 677;
			var resolution = 50000.;
			var paperWidth = .210;
			var paperHeight = .297;
			var pxPerM = 256/dxUTM;
			var UTM = 32
			$("#UTM")[0].innerText="UTM Zone: "+UTM;

			var imgWitdhMM =(dxUTM*1000./resolution);
			var imgHeighthMM =(dyUTM*1000./resolution);
			for (var i = 0; i < paperWidth/imgWitdhMM*1000+1; i++) {
				for (var j = 0; j < paperHeight/imgHeighthMM*1000+1; j++) {
					var img = document.createElement("img");
					var div = document.createElement("div");
					div.appendChild(img)
					var xL = xLUTM+dxUTM*i;
					var yL = yHUTM-dyUTM*j;
					img.src = "http://opencache.statkart.no/gatekeeper/gk/gk.open?request=GetMap&LAYERS=toporaster2&VERSION=1.0.0&BBOX="+xL+","+(yL-dyUTM)+","+(xL+dxUTM)+","+(yL)+"&SRS=EPSG:326"+UTM+"&WIDTH=256&HEIGHT=256&FORMAT=image/png";
					img.style.width = imgWitdhMM+"mm";
					img.style.height = imgHeighthMM+"mm";
					img.style.position ="absolute";
					img.style.top=0;
					img.style.left=0;
					div.style.position ="absolute";
					div.style.top=(0+imgHeighthMM*j)+"mm";
					div.style.left=(0+imgWitdhMM*i)+"mm";
					$("#container").append(div);
				}
			}
					  
			
			for (var x = 1000 -(xLUTM % 1000); x < paperWidth*resolution; x+= 1000){
				var xUTMPos = x+xLUTM;
				var div = document.createElement("div");
				div.style.left=(0+x/resolution)*1000+"mm";
				if ((xUTMPos % 10000)>0){
					div.className="vline";
				} else {
					div.className="vlineThick";
				}
				$("#container").append(div);
				var div = document.createElement("div");
				div.innerText = xUTMPos/1000;
				div.style.left=(0+x/resolution)*1000+"mm";
				div.className="xPosTop";
				$("#container").append(div);
				var div = document.createElement("div");
				div.innerText = xUTMPos/1000;
				div.style.left=(0+x/resolution)*1000+"mm";
				div.className="xPosBottom";
				$("#container").append(div);
			}
			
			for (var y = -((yHUTM) % 1000); -y < paperHeight*resolution; y-= 1000){
				var yUTMPos = yHUTM +y;
				var div = document.createElement("div");
				div.style.top=(0-y/resolution)*1000+"mm";
				div.className="hline";
				$("#container").append(div);
				
				var div = document.createElement("div");
				div.innerText = yUTMPos/1000;
				div.style.top=(0-y/resolution)*1000+"mm";
				div.className="yPosLeft";
				$("#container").append(div);
				var div = document.createElement("div");
				div.innerText = yUTMPos/1000;
				div.style.top=(0-y/resolution)*1000+"mm";
				div.className="yPosRight";
				$("#container").append(div);
			}

		});              
		
	</script>
    </body>
</html>